# 2. 페이지 라우팅 설정하기

### ① 들어가기 전 실습 진행 방향 소개
1. index 페이지
- 인덱스 경로(/)에 해당하는 페이지
- 등록된 도서의 리스트를 볼 수 있다.
2. Search 페이지
- 서치 경로(/Search)에 해당하는 페이지
- 제목, 저자 별로 검색 결과를 볼 수 있다.
3. Book 페이지
- /book/{book_id} 경로의 페이지
- 특정 도서의 상세 정보를 확인할 수 있다.

### ② 페이지 라우팅
```
src
 ┣ pages
 ┃ ┣ book
 ┃ ┃ ┗ [[...id]].tsx → /book/{book_id}
 ┃ ┣ search
 ┃ ┃ ┗ index.tsx → /search
 ┃ ┣ index.tsx → /
 ┃ ┣ _app.tsx
 ┃ ┗ _document.tsx
```
- pages 폴더 아래에 새 파일로 `search.tsx`를 만든다. → `/search`경로가 설정된다.
- pages 폴더 아래에 새 폴더로 `search`를 만든 후 그 안에 `index.tsx`파일을 만든다. → `search`경로가 설정된다.

### ③ 쿼리 스트링(Query String)?
- 예&#41; /search?q=춘식이
- 경로의 끝에 물음표와 함께 명시되는 값으로, 페이지 경로 자체에는 영향을 주지 않는다.
```tsx
import { useRouter } from 'next/router';

export default function Page() {
  const router = useRouter();
  const { q } = router.query; // 구조분해할당 또는 const q = router.query.q;

  return (
    <h1>Search 페이지의 쿼리 스트링 : { q }</h1>
  )
}
```

### ④ URL 파라미터(URL Parameter)
- 예&#41; /book/1, /book/2, ... /book/100
- 가변적인 값을 포함하는 동적 경로
- URL 파라미터를 사용하는 동적 경로를 갖는 페이지를 생성하려면 `[id].tsx`파일을 만든다. <br />
  → 경로 뒤에 딱 `하나의 id값`만을 전달이 되는 경로에만 대응하도록 동작  

### ⑤ URL 파라미터의 id가 여러개일 경우(Catch All Segment)
- 예&#41; /book/1/2, /book/2/3/4, ... /book/100/101/102/103
- `[...id].tsx`파일을 만든다.
- 이때 전달된 여러 개의 URL 파라미터들은 컴포넌트에 id라는 변수의 배열 형태로 저장
(사진첨부)

### ⑥ Optional Catch All Segment
- `[[...id]].tsx`파일을 만든다.

### ⑦ 404 페이지(Not Found 페이지)
- `/pages/404.tsx` 파일을 만든다.